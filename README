Install cmake
=============

apt-get update
apt-get install cmake

Download libftdi
=================

git clone git://developer.intra2net.com/libftdi

cd libdtdi

Follow instruction from README:
mkdir build
Cd build
cmake -DCMAKE_INSTALL_PREFIX="/usr" ../
make
make install

Finally the library is at
 /usr/lib/libftdi1.so.2.0.0
 /usr/lib/libftdi1.so.2
 /usr/lib/libftdi1.so

And the header file is at:
/usr/include/libftdi1/ftdi.h

Connect the USB relais card
===========================

Verify that the relais card is recongized

lsusb

Bus 001 Device 004: ID 0403:6001 Future Technology Devices International, Ltd FT232 USB-Serial (UART) IC

cd libftdi/examples

gcc -I/usr/include/libftdi1/ -lftdi1 -o bitbang bitbang.c

Execute bitbang and watch the relais switching for a while:

./bitang

Now everything is ok. You may create your application using C/C++

Installing C# .NET Wrapper
==========================

We want to control the relais card using C#. We need a C# wrapper for native DLL  /usr/lib/libftdi1.so.2

git clone git://github.com/chmorgan/libftdinet

In file libftdinet.dll.config update shared livrary:

<?xml version="1.0" encoding="utf-8" ?>
<configuration>
	<dllmap dll="libftdi" target="libftdi1.so.2"/>
</configuration>

Replace all [DllImport("libftdi")] by [DllImport("libftdi1")] 


Create a new C# Solution
========================

Option a: Add reference to libftdinet assembly

Option b: add the libftdinet project to your solution, then add reference to this project

FAQ

Q: I'm getting permission denied errors/exceptions when trying to use my device
A: You can either run as root (or via sudo) which is not recommended, or add a udev rule to properly set permissions.
 It is recommended that you go through the udev rules approach, running as root is never a good idea.

Steps
-----
- NOTE: This is Ubuntu specific but is pretty close to what you need for all systems using udev

Create /etc/udev/rules.d/usb-ftdi.rules with the contents:

#FT2232 Adapter
ACTION=="add", SUBSYSTEM=="usb", ATTRS{idVendor}=="0403", ATTRS{idProduct}=="6015", GROUP:="libftdi", MODE:="0660"

Note that the product and vendor should match what is reported by 'lsusb' for your particular ftdi device. This rule can
be adjusted to allow a series or a range of product values if you have multiple devices with different product values.

Note that the group give, 'libftdi' was added to the system via 'sudo addgroup libftdi' and the user that intends to
use the ftdi device added to this group via 'sudo adduser <username> libftdi'. You can use whichever group you would like
in place of 'libftdi' if your user accounts all belong to that particular group.

There may be a simpler way to reinitialize things but rebooting after these steps will cause the udev rules to
be re-examined and force the user to log-in again which will refresh their group settings.


